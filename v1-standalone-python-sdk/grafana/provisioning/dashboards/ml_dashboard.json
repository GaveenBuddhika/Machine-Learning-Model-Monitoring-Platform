{
  "editable": true,
  "refresh": "5s",
  "title": "Loan Eligibility Model Observability - Professional Edition",
  "uid": "loan_observability_v1",
  "schemaVersion": 36,
  "style": "dark",
  "time": { "from": "now-30m", "to": "now" },
  "panels": [
    {
      "title": "Category 1: ML Quality Metrics (Research Core)",
      "type": "row",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 }
    },
    {
      "title": "F1-Score (Model Balance)",
      "type": "gauge",
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 1 },
      "targets": [ { "expr": "model_f1_score", "refId": "A" } ],
      "fieldConfig": { "defaults": { "min": 0, "max": 1, "thresholds": { "steps": [{ "color": "red", "value": null }, { "color": "orange", "value": 0.5 }, { "color": "green", "value": 0.8 }] } } }
    },
    {
      "title": "Precision & Recall (%)",
      "type": "stat",
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 1 },
      "targets": [
        { "expr": "model_precision_score * 100", "legendFormat": "Precision", "refId": "A" },
        { "expr": "model_recall_score * 100", "legendFormat": "Recall", "refId": "B" }
      ],
      "options": { "colorMode": "value", "graphMode": "area" }
    },
    {
      "title": "Real-time Accuracy",
      "type": "stat",
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 1 },
      "targets": [ { "expr": "avg_over_time(model_accuracy_score[5m]) * 100", "refId": "A" } ],
      "fieldConfig": { "defaults": { "unit": "percent" } }
    },
    {
      "title": "Category 2: Data Observability & Drift",
      "type": "row",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 9 }
    },
    {
      "title": "Data Drift Score (KS-Test)",
      "type": "gauge",
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 10 },
      "targets": [ { "expr": "model_drift_score", "refId": "A" } ],
      "fieldConfig": { "defaults": { "min": 0, "max": 1, "thresholds": { "steps": [{ "color": "green", "value": null }, { "color": "orange", "value": 0.4 }, { "color": "red", "value": 0.7 }] } } }
    },
    {
      "title": "Loan Amount Range Monitoring",
      "type": "timeseries",
      "gridPos": { "h": 8, "w": 16, "x": 8, "y": 10 },
      "targets": [
        { "expr": "feature_min_value{feature_name='loan_amount'}", "legendFormat": "Min Loan Amount", "refId": "A" },
        { "expr": "feature_max_value{feature_name='loan_amount'}", "legendFormat": "Max Loan Amount", "refId": "B" }
      ]
    },
    {
      "title": "Category 3: Operational Performance",
      "type": "row",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 18 }
    },
    {
      "title": "Latency: Internal vs API Total",
      "type": "timeseries",
      "gridPos": { "h": 8, "w": 16, "x": 0, "y": 19 },
      "targets": [
        { "expr": "rate(model_latency_seconds_sum[1m]) / rate(model_latency_seconds_count[1m])", "legendFormat": "Model Latency", "refId": "A" },
        { "expr": "rate(api_response_time_seconds_sum[1m]) / rate(api_response_time_seconds_count[1m])", "legendFormat": "API Response Time", "refId": "B" }
      ]
    },
    {
      "title": "Prediction Throughput",
      "type": "stat",
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 19 },
      "targets": [
        { "expr": "model_prediction_total", "legendFormat": "Success", "refId": "A" },
        { "expr": "model_prediction_error_total", "legendFormat": "Errors", "refId": "B" }
      ],
      "options": { "colorMode": "background" }
    },
    {
      "title": "Category 4: Infrastructure Health",
      "type": "row",
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 27 }
    },
    {
      "title": "System Resources (CPU, RAM, Disk)",
      "type": "gauge",
      "gridPos": { "h": 8, "w": 24, "x": 0, "y": 28 },
      "targets": [
        { "expr": "system_cpu_usage_percent", "legendFormat": "CPU %", "refId": "A" },
        { "expr": "system_memory_usage_bytes / (1024*1024)", "legendFormat": "RAM (MB)", "refId": "B" },
        { "expr": "system_disk_usage_percent", "legendFormat": "Disk %", "refId": "C" }
      ],
      "fieldConfig": { "defaults": { "max": 100 } }
    }
  ]
}